{{ with .Get "src" }}
  {{ $path := . }}
  {{ $base := "https://imagedelivery.net/Zgety72ez9NMy5vNjlIElg/000b6b49-c71e-412c-5222-a20e37883b00/" }}
  {{ $cfid := .Get "src" }}
  {{ $original := print $base "w320" }}
  {{ $variants := slice
    (dict
      "key" "w960"
      "media" "(min-width: 768px)"
    )
    (dict
      "key" "w640"
      "media" "(min-width: 480px)"
    )
  }}
<figure class="max-w-full">
  <picture>
    {{ range $variant := $variants }}
      <source data-srcset="{{ print $base '/' $cfid '/' .key }}" media="{{ $variant.media }}">
    {{ end }}
    <img class="lazyload" src="{{ $original }}" {{ with $.Get "text" }}alt="{{ . }}"{{ end }} {{ with $.Get "title" }} title="{{ . }}"{{ end }} />
  </picture>
  {{ with $.Get "title" }}
  <figcaption>
    <p>{{ . }}</p>
  </figcaption>
  {{ end }}
</figure>
{{ else }}
"no source"
{{ end }}
